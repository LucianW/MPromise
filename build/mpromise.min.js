!function(){function r(r){return"function"==typeof r}function t(r){return"object"==typeof r}function n(t,n){var e;try{t(function(t){if(e===!1)return!1;e=!0;for(var u=0;u<n.length;u++)r(n[u].resolve)&&n[u].resolve(t);return!0},function(t){if(e===!0)return!1;e=!1;for(var u=0;u<n.length;u++)r(n[u].reject)&&n[u].reject(t);return!0})}catch(u){if(e===!0)return;e=!1;for(var o=0;o<n.length;o++)r(n[o].reject)&&n[o].reject(u)}}function e(t,n,e){for(var u=0;u<t.length;u++)if(r(t[u].resolve)&&r(n)&&t[u].resolve===n||r(t[u].reject)&&r(e)&&t[u].reject===e)return;t.push({resolve:n,reject:e})}function u(u){if(!t(this))throw new TypeError("Promises must be constructed via new");if(!r(u))throw new TypeError("not a function");var o=new Array;return setTimeout(function(){n(u,o)},1),this.then=function(r,t){e(o,r,t)},this["catch"]=function(r){e(o,null,r)},this}function o(r,t,n,e,u){return function(o){n[r].status=1===t,n[r].value=o;for(var i=n.map(function(r){return r.value}),f=0;f<n.length;f++){if(null===n[f].status)return;if(n[f].status===!1)return void u(i)}e(i)}}var i;i=t(window)&&window?window:global,u.all=function(){var r=Array.prototype.slice.call(1===arguments.length&&isArray(arguments[0])?arguments[0]:arguments);return 0===r.length?Error("insufficient arguments"):1===r.length?r[0]:new u(function(t,n){for(var e=new Array,u=0;u<r.length;u++)e[u]={status:null,value:null},r[u].then(o(u,1,e,t,n),o(u,2,e,t,n))})},i.MPromise||(i.MPromise=u)}();